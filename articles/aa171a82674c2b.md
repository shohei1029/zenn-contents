---
title: "Azure OpenAIの本を出します！執筆の軌跡と中身紹介、感想"
emoji: "🔖"
type: "idea"
topics:
  - "azure"
  - "openai"
  - "chatgpt"
  - "azureopenai"
published: true
published_at: "2023-12-31 18:37"
---

# はじめに
初めての書籍執筆ブログです。著者の一人 (永田)として、2024/1/24発売の[『Azure OpenAI ServiceではじめるChatGPT/LLMシステム構築入門』](https://www.amazon.co.jp/dp/4297139294)を出版させていただくことになった経緯をまとめています。想像以上に長文になってしまいましたが、ゆるりと読んでみて頂けると嬉しいです。

『Azure OpenAI ServiceではじめるChatGPT/LLMシステム構築入門』表紙
![](https://storage.googleapis.com/zenn-user-upload/c332e4f6397d-20231231.png)

# 経緯
新卒でMicrosoftにCloud Solution Architectとして入社し、Azureの導入支援を行ってきました。入社後 (厳密には内定後くらい)に本格的にAzureを勉強し始めたわけですが、Azureを勉強する中で多くの人が抱く感想が**書籍の数が少ない**です。うちの家の近くの本屋に行くと、AWSの本は数多く置かれているのですが、Azureの本は数冊程度、という状況でした。もちろんAzureは他クラウドに比べてドキュメントや[ラーニングコンテンツ](https://learn.microsoft.com/ja-jp/training/)が充実しているとは言われます。ただ私が個人的に本が好きというのもあって、**いつか本を出したい**というのはずっと思っていました。

それでも最初から本を出すというのはだいぶハードルが高く感じられました。普段ブログの執筆はコミュニティイベントで技術情報を発信するということはあっても、書籍というある程度の分量があるものをまとめた経験はありません。また出版社とも繋がりもなく、そもそもどうやって本にしていったらいいか全く分かりませんでした。

そこでまずいきなりAmazonや書店に本が並ぶような商業誌を目指すのではなく、**技術同人誌**を出して書籍執筆の知見を貯めることにしました。入社同期の[伊藤さん](https://twitter.com/ep_ito)に声をかけ、その後同僚でAzure AI/MLのビジネス活用に情熱を燃やす[宮田さん](https://twitter.com/tmiyata25)と立脇さんを巻き込む形でAzure Machine Learningの技術同人誌を執筆しました。執筆した**Azure Machine Learningの入門書**は、2023年の春に池袋で開催された[技術書典](https://techbookfest.org/event/tbf14)という技術書の同人誌即売会で販売しました。結果としては大成功で、当初想定を大きく上回り、技術書典のイベント会場での販売とオンライン販売を合わせて200冊弱、会期終了後のオンライン販売や個別販売を合わせると合計で**300冊以上販売**できました。

そのとき販売していた書籍[『Re:ゼロから始めるAzure Machine Learning』](https://booth.pm/ja/items/4727739)は現在もBooth上で販売しております。

『Re:ゼロから始めるAzure Machine Learning』([Boothページ](https://booth.pm/ja/items/4727739))
![](https://storage.googleapis.com/zenn-user-upload/f8b86e6b5794-20231231.png)

もともとの想定は、このAzureの機械学習プラットフォームであるAzure Machine Learningの入門からMLOpsの実現までをテーマにした書籍を執筆しようと思っておりました。ただ、2023年は生成AIブームが巻き起こり、**ChatGPTなどのLLMをどうやって企業で活用できるかが強く問われた年**になりました。その一方で、ChatGPTが利用できるクラウドサービスであるAzure OpenAI Serviceに関して、[多数の有用なブログ記事](https://zenn.dev/p/microsoft)は多く出ていたものの、書籍というまとまった情報はあまり存在していませんでした。そこで若干軌道を修正し、まず世の中で求められている、ChatGPTやLLMを利用したシステム構築をテーマにした本を執筆することにしました。

技術同人誌の販売はうまくいったものの、出版社との繋がりがないという状況は変わりません。そこで社内で多数の書籍執筆経験があるAさんに相談し、同じく社内のノリさんというキーパーソンを紹介して頂きました。このノリさんは大手出版社出身の方で、商業出版を目指すうえでの戦略をはじめ非常に多くの相談にのって頂きました。その後ノリさんの紹介で同じくAzure OpenAI本の執筆を志していた同志・[吉田真吾さん](https://twitter.com/yoshidashingo)と合流し、**技術評論社さん**の編集の方とお繋ぎ頂いて、**Azure OpenAI本の企画がスタート**しました。またこのあたりのタイミングで、Azure AI Search (旧称 Azure Cognitive Search)に関して深い知見をお持ちの[花ケ﨑さん
](https://qiita.com/nohanaga)と、Azure OpenAIに関して多数の案件推進・宣伝活動を手掛けてる[蒲生さん](https://twitter.com/hiro_gamo)にも参加いただけることになり、7人の著者が揃いました。

# 中身の紹介
経緯が想定の2倍以上に膨らんでしまいましたが、ざっくり本の中身を紹介します。

本書は、Azure OpenAI Serviceを中心にしたシステム構築を中心にしています。
ひとくちに「Azure OpenAIを使ったシステム構築」といっても、エンジニアとしてコードをバリバリ書いて実装を行っている方から、ビジネス部門出身でDXに足を踏み入れたものの、コードはまだあまり書くことがないという方まで幅広い方々がいます。

そこで本書は4部構成にして、それぞれの部でスタートとゴールを明確にし、幅広い読者の目的とレベル感への対応を目指しました。
![](https://storage.googleapis.com/zenn-user-upload/9431e361c277-20231231.png)
(本書「はじめに」より)

## 第1部：Microsoft AzureでのChatGPT活用
第1部はこれからAzure OpenAI ServiceのChatGPTモデルを触っていく方々を想定し、ChatGPT単体のアプリを社内展開して業務で活用できるイメージがつくのを目標にしています。

### 内容
- 生成AIとChatGPTモデルの基本的な概念とその仕組みを解説
- ChatGPTに入力する指示となる「プロンプト」の書き方を紹介
- Azure OpenAI Serviceの概要と具体的な利用方法を解説し、ChatGPTアプリをユーザー自身の環境に展開

### ポイント
最初のパートでは、**そもそも生成AIやChatGPTに何ができるのか**というところから丁寧に解説しています。Azure OpenAI Serviceを使って**ChatGPTアプリを展開**するところまでコード実装なしでやっているので、コーディングが苦手な方にもぜひ見て頂きたいパートです。

## 第2部：RAGによる社内文章検索の実装
第2部は、社内文章検索システムの社内展開の検討や、精度改善を行いたい読者を想定し、ChatGPTモデルを活用した社内文章検索（RAG）システムの導入を目標にしています。

### 内容：
- RAGの概念理解から実際の社内文章検索アプリの展開まで体験
- Azure AI Searchを中心に、社内文章検索アプリのキーとなるAzureサービスの紹介
- 実際のRAGシステムのアーキテクチャについて解説
- 検索精度や回答生成精度の改善アプローチについて紹介

### ポイント
**検索拡張生成 (RAG)** という文字づらからだと最初なんだか分からない概念について、コンセプトから実装までしっかり説明しているパートです。サンプルコードを交えた実装やアーキテクチャの紹介のみならず、**精度改善を行っていくための評価や改善アプローチまで**踏み込んでいるのがポイントです。

## 第3部：Copilot stackによるLLMアプリケーションの実装
第3部では、ChatGPTモデルやLLMを組み込んだアプリケーションである「Copilot」の考え方を紹介しています。第2部で扱ったRAGシステムにChatGPTプラグインを追加していく形で、実際の実装についても解説しています。

### 内容
- ChatGPTモデルなどのLLMを組み込んだアプリケーションである「Copilot」の考え方を紹介
- Copilotを開発するうえで必要な要素を抽象化したCopilot Stackについて解説
- AIオーケストレーション、基盤モデルとAIインフラストラクチャ、LLMアプリのインターフェイスであるCopilotフロントエンドを解説

### ポイント
LLMを組み込んだアプリケーションであるCopilotと、必要な要素を詰め込んだ**Copilot stack**は非常に重要なコンセプトであると同時に、最初はとっつきにくさもあると思います。この部ではCopilot stackの全体を丁寧に解説しています。また**LLMアプリ (Copilot)のインターフェイス**をどのように作るといいかについて解説されているのも面白いパートです。

## 第4部：ガバナンスと責任あるAI
第4部では、LLMアプリケーションを開発・運用していくうえでのガバナンスと責任あるAIについて解説します。

### 内容
- LLMアプリケーションを組織全体で活用するための基盤構築やその実現方法を紹介
- 非機能要件の一般論とともに、認証・認可やログ管理、課金、流量制限、閉域化、負荷分散を解説
- 「責任あるAI」活用のためのデータの取り扱いやコンテンツフィルタリング機能の説明

### ポイント
最近、Azure OpenAI自体を紹介した本は登場してきましたが、私が見る限りAzure OpenAIを組み込んだ**共通基盤としてのアーキテクチャ設計**まで踏み込んだ本はなかなかありません。**Azure API Management**をはじめ重要なサービスを紹介しています。

# 書いていく中での感想、苦労した点
ちゃんとした書籍の執筆も取りまとめも初めてであったため、色々な部分で苦労しました。とくに7人の著者の力を最大限引き出しつつ1冊の本としてまとめるのが面白くもあり大変な部分でした。
7名の著者はそれぞれ高度な専門知識やお客様ご支援の経験を持っている方々ですが、それぞれ章を分担して書くとなると、どうしても説明の重複箇所や、ゴールイメージの違いからなるレベル感の違いが生まれてしまいます。たとえば、同じAzure機能に関する説明が複数個所でなされていたり、本書を冒頭から読み進めたときに、難易度がジェットコースターみたいに上下してたりする部分がありました。ひとくちに技術書・入門書といっても、図解やサンプルをふんだんに使った技術書から、オライリー並みの硬派な本までさまざまあります。

そこで本書は、前述の4部構成をとり、それぞれの部でスタートとゴールを明確にする形でまとめなおしました。この方針は本書の初稿がだいぶ書き終わってから生まれました。初稿が書き終わった段階で有識者の皆様にフィードバックをお願いしたのですが、そこで手厳しいもの含めさまざまなフィードバックを頂き、本書全体の構成を練り直すことになりました。本当は最初から綺麗に4部構成の計画ができていればよかったのですが、このタイミングで全体を練り直したおかげで、本書の中身がより分かりやすくまとまったと思っています。たくさんのフィードバックをいただいた皆様には頭が上がりません。

ほかにも、初めて書籍を書くというところで細かい部分もだいぶ気を配りました。文字はどこまで「ひらく」といいのか (お勧め→おすすめ、沢山→たくさん、など)、専門用語はアルファベットのままがいいのかカタカナに寄せるのか、などなど、読者の皆様が変なところでひっかからずに内容に集中してもらえるよう気を付けました。

そして、本書が絶賛校正中の段階であった2023年11月に、Microsoft Igniteという製品発表イベントがあり、そこでAzure OpenAIはじめ本書で取り扱っていた製品に多くのアップデートがありました。せっかく初稿を書き終わってひと段落した段階でしたら、本書も大幅な改訂を余儀なくされました。ただおかげでIgniteでのアップデートも盛り込み、最新の内容を皆様へお伝えできそうです。

本を書くにあたっては、これだけ速いスピードで進化するこのLLM分野に、書籍という形式が適しているのかという悩みもありました。それでも、こうした技術の核心に触れる質の高い情報を一冊の中に集約することの価値は、今日でも書籍にしかないと信じています。

# おわりに
この記事を最後まで読んでいただきありがとうございます。来年1/24発売ということで、著者の我々も物理本はまだ手元になく、届く日をとても楽しみにしています。もし皆様の中でちょっとでも興味をもっていただけたらぜひお手に取ってみて頂けると嬉しいです。

1/24発売。予約受付中：
[Azure OpenAI ServiceではじめるChatGPT/LLMシステム構築入門](https://www.amazon.co.jp/dp/4297139294)
